{
   "$schema":"https://vega.github.io/schema/vega-lite/v4.json",
   "width":800,
   "height":400,
   "title":"Populations of Australian Cities and Towns",
   "projection":{
      "type":"mercator"
   },
   "layer":[
      {
         "data":{
            "url":"https://monashwillruan.github.io/FIT3179/js/Aus.json",
            "format":{
               "type":"topojson",
               "feature":"custom"
            }
         },
         "mark":{
            "type":"geoshape",
            "fill":"lightgray",
            "stroke":"white"
         }
      },
      {
         "data":{
            "url":"https://monashwillruan.github.io/FIT3179/data/au.csv"
         },
         "mark":{
            "type":"circle"
         },
         "encoding":{
            "longitude":{
               "field":"longitude",
               "type":"quantitative"
            },
            "latitude":{
               "field":"latitude",
               "type":"quantitative"
            },
            "size":{
               "field":"population",
               "type":"quantitative",
               "scale":{
                  "type":"sqrt"
               }
            },
            "color":{
               "value":"red"
            },
            "tooltip":[
               {
                  "field":"city",
                  "type":"nominal"
               },
               {
                  "field":"population",
                  "type":"quantitative"
               }
            ]
         },
         "transform": [
            {"filter": "datum.population > Population_Above"}
         ]
      }
   ],
               "params":[
            {
               "name":"Population_Above",
               "value":0,
               "bind":{
                  "input":"range",
                  "min":0,
                  "max":100000,
                  "step":100,
                  "name":"Minimum Population: "
               }
            }
         ]
}
