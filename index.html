<!DOCTYPE html>
<html>
<head>
  <title>The 2020 AFL Season</title>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
  <!-- Import vega-embed -->
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">

  <!-- custom style -->
  <style>
    *{
      font-family: 'Source Sans Pro', sans-serif;
    }
    h1{
      font-weight: 900;
      text-align: center;
      font-size: 40px;
    }
    h2{
      font-weight: 900;
      text-align: center;
      font-size: 30px;
    }
    h3{
      font-weight: 700;
      font-size: 22px
    }
     body{
       background-color: lightgray;
     }
     .page{
       width: 850px;    
       background-color: #fcf8f8;   
       margin: auto;
       padding: 50px;
       padding-top: 35px;
    }
    .vis-container{
      width: 100%;
    }
    .description h2, h1{
      margin-top:0px;
    }
    .description-right {
      padding-left: 25px;
    }
    .description-left{
      padding-right: 25px;
    }
    .pure-g{
      margin-bottom: 25px;
    }
    .small-font{
        font-size: 14px;
    }
    .title-annotations {
      line-height: 150%;
    }
    .l-box {
        padding-left: 20px;
        line-height: 150%;
    }
    .r-box {
        padding-right: 20px;
        line-height: 150%;
    }
    .l-box2 {
        padding-left: 20px;
        margin-top: -20px;
        line-height: 150%;
    }
  </style>
</head>
<body>

 <div class="page">

   <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>The 2020 AFL Season</h1>
        <p class = "title-annotations">The 2020 AFL season, though interrupted by the COVID outbreak, was successfully played out. <b>Port Adelaide</b> took home the minor premiership with the most regular season wins, but it was two Victorian sides who played the <b>Grand Final</b>, won by <b>Richmond</b> over <b>Geelong</b>.</p>
      </div>
    </div>
  <!-- end pure grid group -->
  <div class="pure-g">
    <div class="pure-u-1-1">
        <h2>The Regular Season</h2>
        <p class = "title-annotations">The <b>Regular Season</b>, played to determine the finalists, was played over a shortened <b>17 rounds</b> rather than the standard 22, with each team playing each other team once. From for the 4th round onward, all games were played outside of Victoria due to COVID, a serious disadvantage to Victorian teams who could not play their home games at home.</p>
    </div> 
    </div>

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-2-3">
          <div id="vis2" class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
            <div class="l-box"> <h3>Highs and Lows in Adelaide</h3>
                <p><b>Port Adelaide</b> secured the minor premiership in 2020 with 14 wins, beating <b>Brisbane</b> on percentage. <b>Adelaide</b>, the other team in the city, won the wooden spoon, finishing last with 3 wins and the worst percentage. The eventual premiers, <b>Richmond</b>, secured third position, whilst their Grand Final opponent <b>Geelong</b> secured fourth. It was the first time in decades that neither of the top 2 teams made the Grand Final.</p></div>
        </div>
        
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-3">
            <div class="r-box"> <h3>Search Interest on Google</h3>
                <p>Though the traditional home of the AFL is <b style="color:#234A9E">Victoria</b>, the search interest for the term "AFL" was in fact strongest across the season in <b style="color:#1C3185">South Australia</b>, which perhaps reflects the strong performance of the Port Adelaide team. <b style="color:#C9EAB5">Queensland</b>, which played host to many re-scheduled games as well as the Grand Final, showed little interest in the competition; it is traditionally a rugby state. </p>
            </div>
        </div>
        <div class="pure-u-2-3">
          <div id="vis1"  class="vis-container"></div>
        </div>
    </div>
        <!-- end pure grid group -->


    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-2-3">
            <div id="vis3"  class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
            <div class="l-box2"> <h3>Attendance Drop</h3>
                <p>There was a preciptious drop in both <b style="color:#1f77b4">Average Attendance</b> and for <b style="color:#ff7f0e">Attendance at the Grand Final</b> due to COVID. Across the season, several games were played to empty stadiums, whilst others were played to smaller, socially distanced crowds. Even in Queensland, where COVID cases were very limited, </p>
            </div>
        </div>
    </div>
           <!-- end pure grid group -->

    <div class="pure-g">
        <div class="pure-u-1-1">
            <h3>Two Huge Performances</h3>
            <p>Across all the player performances in the season, two in particular stand out: <b style="color:#d62728">Tom Hawkins</b> who won himself the Coleman Medal for most goals, and <b style="color:#aec7e8 ">Lachie Neale</b> who won the Brownlow medal for best player in the competition, and dominated the important disposals statistic. </p>
        </div>
        </div>
    
     <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <div id="vis5"  class="vis-container"></div>
      </div>
    </div>
      <!-- end pure grid group -->
      <div class="pure-g">
        <div class="pure-u-1-1">
            <h2><br> The Grand Final</b></h2>
            <p>The Grand Final was played between two teams which had been dominant for the past several years, and was considered to be a tight blockbuster matchup. <b style="color:#d62728">Geelong</b> had been minor premiers the previous season, whilst <b style="color:#2ca02c">Richmond</b> had won 2 of the previous 3 Grand Finals.</p>
        </div>
        </div>
    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-3">
          <div id="vis4"  class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
            <div class="l-box2"> <h3>Contrasting Styles</h3>
                <p>The play styles of the two Grand Finalists could not be more different. <b style="color:#2ca02c">Richmond</b>'s game was based on a frenetic pace and fast-counterattacks, reflected in their high <b>tackles</b>, while <b style="color:#d62728">Geelong</b>'s game was based on keeping control of the ball, with a high number of <b>marks</b>.</p>
            </div>
        </div>
        <div class="pure-u-1-3">
            <div id="vis6"  class="vis-container"></div>
          </div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1-1">
                <h3><br> Richmond Dominance</b></h3>
                <p><b style="color:#2ca02c">Richmond</b> ran out as dominant winners of the <b>Grand Final</b>, picking up their third Premiership in four seasons. Though in the past, <b style="color:#d62728">Geelong</b> were undone by poor goalkicking, in this game, <b style="color:#2ca02c">Richmond</b> were just far too good, scoring more <b  style="color:#ff7f0e">points</b> and more <b style="color:#1f77b4">goals</b> (worth six points).</p>
            </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-1-1">
            <div id="vis7"  class="vis-container"></div>
          </div>
        </div>
        <!-- end pure grid group -->
        <div class="pure-g">
          <div class="pure-u-1-1 small-font">
            <p>This visualisation was created by William Ruan. Data Sources: AFL.com, AFLtables.com, trends.google.com, </p>
          </div>
        </div>
    </div>
       



 
  

  </div> <!-- end page -->
   
<script type="text/javascript">
  var specVis1 = "https://monashwillruan.github.io/FIT3179/js/searchInterest.json";
  var specVis2 = "https://monashwillruan.github.io/FIT3179/js/GameWins.json";
  var specVis3 = "https://monashwillruan.github.io/FIT3179/js/Attendance.json";
  var specVis4 = "https://monashwillruan.github.io/FIT3179/js/Tackles.json";
  var specVis5 = "https://monashwillruan.github.io/FIT3179/js/PlayerData.json";
  var specVis6 = "https://monashwillruan.github.io/FIT3179/js/Marks.json";
  var specVis7 = "https://monashwillruan.github.io/FIT3179/js/FinalScore.json";

  vegaEmbed('#vis1', specVis1, {"actions": false}).then(function(result) {
  }).catch(console.error);
  
   vegaEmbed('#vis2', specVis2, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis3', specVis3, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis4', specVis4, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis5', specVis5, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis6', specVis6, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis7', specVis7, {"actions": false}).then(function(result) {
  }).catch(console.error);


  window.addEventListener("resize", positionCommentary);


function positionCommentary(){
    let canvas = document.getElementsByTagName("canvas")[0];
    let x = canvas.getBoundingClientRect().left + canvas.width - 220;
    let y = canvas.getBoundingClientRect().top + canvas.height - 125;
    let commentaryEle = document.getElementById("commentaryEle");
    if (!commentaryEle){
        commentaryEle = document.createElement("commentaryEle");
        commentaryEle.id = "commentaryEle";
        commentaryEle.innerHTML = "The competition was very even, <br> with no one team dominating, <br>and no one team lagging far <br>behind.";
        commentaryEle.style.position = "absolute";
        document.body.appendChild(commentaryEle);
    }
    commentaryEle.style.left = x + "px";
    commentaryEle.style.top = y + "px";
}
setTimeout(()=>{positionCommentary()},1500);
</script>
</body>
</html>
