<!DOCTYPE html>
<html>
<head>
  <title>The 2020 AFL Season</title>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
  <!-- Import vega-embed -->
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <!-- Import pure.css -->
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">

  <!-- custom style -->
  <style>
    *{
      font-family: 'Source Sans Pro', sans-serif;
    }
    h1{
      font-weight: 900;
    }
    h2{
      font-weight: 700;
      font-size: 22px
    }
     body{
       background-color: lightgray;
     }
     .page{
       width: 850px;    
       background-color: #fcf8f8;   
       margin: auto;
       padding: 50px;
       padding-top: 35px;
    }
    .vis-container{
      width: 100%;
    }
    .description h2, h1{
      margin-top:0px;
    }
    .description-right {
      padding-left: 25px;
    }
    .description-left{
      padding-right: 25px;
    }
    .pure-g{
      margin-bottom: 25px;
    }
    .small-font{
        font-size: 14px;
    }
    .l-box {
        padding-left: 20px;
        line-height: 150%;
    }
    .r-box {
        padding-right: 20px;
        line-height: 150%;
    }
    .l-box2 {
        padding-left: 20px;
        margin-top: -20px;
        line-height: 150%;
    }
  </style>
</head>
<body>

 <div class="page">

   <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <h1>The 2020 AFL Season</h1>
        <p>The 2020 AFL season, though interrupted by the COVID outbreak, was successfully played out. <b>Port Adelaide</b> took home the minor premiership with the most regular season wins, but it was two Victorian sides who played the <b>Grand Final</b>, won by <b>Richmond</b> over <b>Geelong</b>.</p>
      </div>
    </div>
  <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-2-3">
          <div id="vis2" class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
            <div class="l-box"> <h2>Highs and Lows in Adelaide</h2>
                <p><b>Port Adelaide</b> secured the minor premiership in 2020 with 14 wins, beating <b>Brisbane</b> on percentage. <b>Adelaide</b>, the other team in the city, won the wooden spoon, finishing last with 3 wins and the worst percentage. The eventual premiers, <b>Richmond</b>, secured third position, whilst their Grand Final opponent <b>Geelong</b> secured fourth. It was the first time in decades that neither of the top 2 teams made the Grand Final.</p></div>
        </div>
        
    </div>
    <!-- end pure grid group -->

    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-3">
            <div class="r-box"> <h2>Search Interest on Google</h2>
                <p>Though the traditional home of the AFL is <b>Victoria</b>, the search interest for the term "AFL" was in fact strongest across the season in <b>South Australia</b>, which perhaps reflects the strong performance of the Port Adelaide team. <b>Queensland</b>, which played host to many re-scheduled games as well as the Grand Final, showed little interest in the competition; it is traditionally a rugby state. </p>
            </div>
        </div>
        <div class="pure-u-2-3">
          <div id="vis1"  class="vis-container"></div>
        </div>
    </div>
        <!-- end pure grid group -->


    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-2-3">
            <div id="vis3"  class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
            <div class="l-box2"> <h2>Attendance Drop</h2>
                <p>There was a preciptious drop in both <b>Average Attendance</b> and for <b>Attendance at the Grand Final</b> due to COVID. Across the season, several games were played to empty stadiums, whilst others were played to smaller, socially distanced crowds. Even in Queensland, where COVID cases were very limited, </p>
            </div>
        </div>
    </div>
           <!-- end pure grid group -->

    <div class="pure-g">
        <div class="pure-u-1-1">
            <h2>Two Huge Performances</h2>
            <p>Across all the player performances in the season, two in particular stand out: <b>Tom Hawkins</b> who won himself the Coleman Medal for most goals, and <b>Lachie Neale</b> who won the Brownlow medal for best player in the competition, and dominated the important disposals statistic. </p>
        </div>
        </div>
    
     <!-- pure grid group -->
    <div class="pure-g">
      <div class="pure-u-1-1">
        <div id="vis5"  class="vis-container"></div>
      </div>
    </div>
      <!-- end pure grid group -->
      <div class="pure-g">
        <div class="pure-u-1-1">
            <h2></h2>
        </div>
        </div>
    <!-- pure grid group -->
    <div class="pure-g">
        <div class="pure-u-1-3">
          <div id="vis4"  class="vis-container"></div>
        </div>
        <div class="pure-u-1-3">
            <div class="l-box2"> <h2>Contrasting Styles</h2>
                <p>The play styles of the two Grand Finalists could not be more different. <b>Richmond</b>'s game was based on a frenetic pace and fast-counterattacks, reflected in their high <b>tackles</b>, while <b>Geelong</b>'s game was based on keeping control of the ball, with a high number of <b>marks</b>.</p>
            </div>
        </div>
        <div class="pure-u-1-3">
            <div id="vis6"  class="vis-container"></div>
          </div>
      </div>
        <!-- end pure grid group -->
    </div>
       



    <div class="pure-g">
      <div class="pure-u-1-1 small-font">
        <p>This visualisation is created by William Ruan</p>
      </div>
    </div>
  

  </div> <!-- end page -->
   
<script type="text/javascript">
  var specVis1 = "https://monashwillruan.github.io/FIT3179/js/searchInterest.json";
  var specVis2 = "https://monashwillruan.github.io/FIT3179/js/GameWins.json";
  var specVis3 = "https://monashwillruan.github.io/FIT3179/js/Attendance.json";
  var specVis4 = "https://monashwillruan.github.io/FIT3179/js/Tackles.json";
  var specVis5 = "https://monashwillruan.github.io/FIT3179/js/PlayerData.json";
  var specVis6 = "https://monashwillruan.github.io/FIT3179/js/Marks.json";

  vegaEmbed('#vis1', specVis1, {"actions": false}).then(function(result) {
  }).catch(console.error);
  
   vegaEmbed('#vis2', specVis2, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis3', specVis3, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis4', specVis4, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis5', specVis5, {"actions": false}).then(function(result) {
  }).catch(console.error);

  vegaEmbed('#vis6', specVis6, {"actions": false}).then(function(result) {
  }).catch(console.error);

  window.addEventListener("resize", positionCommentary);


function positionCommentary(){
    let canvas = document.getElementsByTagName("canvas")[0];
    let x = canvas.getBoundingClientRect().left + canvas.width - 220;
    let y = canvas.getBoundingClientRect().top + canvas.height - 125;
    let commentaryEle = document.getElementById("commentaryEle");
    if (!commentaryEle){
        commentaryEle = document.createElement("commentaryEle");
        commentaryEle.id = "commentaryEle";
        commentaryEle.innerHTML = "The competition was very even, <br> with no one team dominating, <br>and no one team lagging far <br>behind.";
        commentaryEle.style.position = "absolute";
        document.body.appendChild(commentaryEle);
    }
    commentaryEle.style.left = x + "px";
    commentaryEle.style.top = y + "px";
}
setTimeout(()=>{positionCommentary()},1500);
</script>
</body>
</html>
